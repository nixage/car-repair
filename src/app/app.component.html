<div class="wrap">


  <div class="container">

    <header>

    </header>
    
    <main>

      <div class="car-repair-form">

        <form class="flex flex-evenly" [formGroup]="carsForm">
  
          <div class="step-1 flex-column">

            <div class="title">
              <h1>POST A JOB</h1>
              <span>Step 1</span>
            </div>
            <hr>
            
            <mat-form-field [ngClass]="{'mat-form-field': false, 'submited': submited}">
              <mat-label>Mark</mat-label>
              <mat-select (selectionChange)="selectedMark($event.value)" formControlName="mark">
                <mat-option  *ngFor="let mark of carsMark" [value]="mark">
                  {{ mark }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field [ngClass]="{'mat-form-field': false, 'submited': submited}">
              <mat-label>Model</mat-label>
              <mat-select (selectionChange)="selectedModel($event.value)" formControlName="model">
                <mat-option *ngFor="let model of carsModel" [value]="model">
                  {{ model }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field [ngClass]="{'mat-form-field': false, 'submited': submited}">
              <mat-label>Year</mat-label>
              <mat-select (selectionChange)="selectedYear()" formControlName="year">
                <mat-option *ngFor="let year of carsYear" [value]="year">
                  {{ year }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="example-full-width" [ngClass]="{'mat-form-field': false, 'submited': submited}">
              <mat-label>What exactly need to be repaired?</mat-label>
              <input matInput formControlName="needRepaired">
              <div class="error-message" *ngIf="submited">
                <mat-error *ngIf="f.needRepaired.errors?.required">
                  This Field is required
                </mat-error>
                <mat-error *ngIf="f.needRepaired.errors?.minlength">
                  Min length 6
                </mat-error>
              </div>
            </mat-form-field>

            <div class="desc">
              <h3>Description</h3>
              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda, voluptatem.</p>
            </div>
            
          </div>

          <div class="step-2 flex-column" *ngIf="step2">

            <div class="title">
              <h1>POST A JOB</h1>
              <span>Step 2</span>
            </div>
            <hr>

            <mat-form-field [ngClass]="{'mat-form-field': false, 'submited': submited}">
              <mat-label>Category of Work</mat-label>
              <mat-select formControlName="categoryWork">
                <mat-option  *ngFor="let work of categoryWork" [value]="work.category" [matTooltip]="work.title" matTooltipPosition="above">
                  Category {{ work.category }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field [ngClass]="{'mat-form-field': false, 'submited': submited}">
              <mat-label>Subcategory</mat-label>
              <mat-select formControlName="speedOfWork">
                <mat-option  value="fast" matTooltip="(+10$ on day)" matTooltipPosition="above">
                  Fast repair 
                </mat-option>
                <mat-option  value="slow">
                  Slow repair
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field [ngClass]="{'mat-form-field': false, 'submited': submited}">
              <mat-label>Select Emirate</mat-label>
              <mat-select formControlName="emirate">
                <mat-option value="USA">
                  USA
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field [ngClass]="{'mat-form-field': false, 'submited': submited}">
              <mat-label>Select Area</mat-label>
              <mat-select formControlName="area">
                <mat-option *ngFor="let area of area" [value]="area">
                  {{ area }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-checkbox *ngFor="let service of otherService; let i = index; trackBy: trackByFn" (change)="addOtherService($event, service, i)">{{ service }}</mat-checkbox>

            <mat-form-field [ngClass]="{'mat-form-field': false, 'submited': submited}">
              <mat-label>Input disabled</mat-label>
              <input matInput [matDatepicker]="dp3" disabled [min]='date' (dateChange)="dateChange($event.value)">
              <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
              <mat-datepicker #dp3 disabled="false"></mat-datepicker>
            </mat-form-field>

            <div class="desc">
              <h3>Description</h3>
              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda, voluptatem.</p>
            </div>

          </div>

          <div class="buttons">
            <button mat-stroked-button (click)="submitForm()" [disabled]="carsForm.invalid">Send</button>
            <button mat-stroked-button (click)="clearForm()">Clear</button>
          </div>

        </form>


      </div>
    

    </main>


    <footer>


    </footer>

  </div>



</div>